!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common/http"),require("apollo-link"),require("graphql/language/printer"),require("apollo-angular-link-http-common"),require("@angular/core")):"function"==typeof define&&define.amd?define("apollo-angular-link-http",["exports","@angular/common/http","apollo-link","graphql/language/printer","apollo-angular-link-http-common","@angular/core"],e):e(t["ng.apolloLink.http"]={},t.ng.common.http,t.apolloLink.core,t.printer,t.ng.apolloLink.httpCommon,t.ng.core)}(this,function(t,e,r,f,h,n){"use strict";var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var o=function(n){function t(t,e){var s=n.call(this)||this;return s.httpClient=t,s.options=e,s.requester=function(c){return new r.Observable(function(e){var n=c.getContext(),t=function(t,e){return h.prioritize(n[t],s.options[t],e)},o=t("includeQuery",!0),r=t("includeExtensions",!1),i=t("method","POST"),u=t("uri","graphql"),p=t("withCredentials"),a={method:i,url:"function"==typeof u?u(c):u,body:{operationName:c.operationName,variables:c.variables},options:{withCredentials:p,headers:s.options.headers}};r&&(a.body.extensions=c.extensions),o&&(a.body.query=f.print(c.query)),n.headers&&(a.options.headers=h.mergeHeaders(a.options.headers,n.headers));var l=h.fetch(a,s.httpClient).subscribe({next:function(t){c.setContext({response:t}),e.next(t.body)},error:function(t){return e.error(t)},complete:function(){return e.complete()}});return function(){l.closed||l.unsubscribe()}})},s}return function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,n),t.prototype.request=function(t){return this.requester(t)},t}(r.ApolloLink),u=function(){function t(t){this.httpClient=t}return t.prototype.create=function(t){return new o(this.httpClient,t)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:e.HttpClient}]},t}(),p=[u],a=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{providers:p}]}],t}();t.HttpLink=u,t.HttpLinkHandler=o,t.HttpLinkModule=a,t.PROVIDERS=p,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng.apolloLink.http.umd.min.js.map